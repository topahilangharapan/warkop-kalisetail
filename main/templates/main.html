{% extends 'base.html' %}

{% block content %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');

    body {
        background-color: #FFFDFA;
    }

    .navbar {
        background-color: #FFFDFA;
        color: white;
        box-shadow: 0px 4px 20px #EFEFEF;
        height: 4rem;
        align-content: center;
        margin-bottom: 4rem;
    }

    .navbar-button-logout {
        padding-left: 0.5rem;
        padding-right: 0.5rem;
    }

    .navbar-brand {
        font-family: 'Plus Jakarta Sans', sans-serif;
        font-weight: 700;
        text-align: center;
        color: #252B48;
        padding-left: 1rem;
    }

    .navbar-name {
         font-family: 'Plus Jakarta Sans', sans-serif;
         font-weight: 600;
         text-align: center;
         color: #252B48;
     }
    .navbar-class {
        font-family: 'Plus Jakarta Sans', sans-serif;
        font-weight: 600;
        text-align: center;
        width: 3rem;
        color: #252B48;
    }

    .container-cards {
        /*border-style: solid;*/
        border-radius: 4px;
        border-width: 0.2rem;
        border-color: #000000;
        /*#2C2A6C*/
        margin-left: 1rem;
        margin-right: 1rem;
        margin-bottom: -1.4rem;
        padding: 1rem;

        /*box-shadow: 8px 8px 60px #DDDDDD;*/
        /*background-color: #ffffff;*/
    }
    .card {
        box-shadow: 4px 2px 8px #DDDDDD;
    }

    .navbar-right-container {
        display: grid;
        grid-template-columns: repeat(4, 0.1fr);
        padding: 1rem;
        grid-gap: 1rem;

        
        justify-content: flex-end;
        align-items: center;
    }
    
    .cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(18rem, 0.1fr));
        grid-gap: 1rem;
        justify-content: space-evenly;
    }

    .vertical-divider {
        border-left: 0.125rem solid green;
        border-radius: 16px;
        border-left-color: #252B48;;
        height: 3vh;
    }

    .container-cards-header{
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        padding-left: 1rem;
        padding-right: 1rem;
        grid-gap: 1rem;

    }

    .button-add {
        justify-self: end;
    }

    .last-login {
        padding-left: 1rem;font-family: 'Plus Jakarta Sans', sans-serif;
        font-weight: 400;
        color: #8A8A8A;
        font-size: 0.8rem;
    }

    .total-menu {
        font-family: 'Plus Jakarta Sans', sans-serif;
        font-weight: 500;
        align-self: end;
        font-size: 1.25rem;
    }

</style>

<nav class="navbar">
    <div class="navbar-brand">
        Warkop Kalisetail
    </div>

    <div class="navbar-right-container">
        <div class="navbar-name">
            {{ nama }}
        </div>
        <div class="navbar-class">
            {{ kelas }}
        </div>
        <div class="vertical-divider"></div>
        <a class= "navbar-button-logout" href="{% url 'main:logout' %}">
            <button>
                Logout
            </button>
        </a>
    </div>
</nav>
<div class="container-cards-header">
    <div class="total-menu">
        <p>Total Menu: {{ total_products }}</p>
    </div>
    <div class="button-add">
        <a href="{% url 'main:create_product' %}">
            <button>
                Add New Product
            </button>
        </a>
    </div>
</div>


<div class="container-cards">
    <div class="cards">
    {% comment %} Berikut cara memperlihatkan data produk di bawah baris ini {% endcomment %}
    {% for product in products %}
        {% if forloop.last %}
            <div class="card" style="width: 18rem; background-color: #DD7339; color: #FFFDFA">
                <div class="card-body">
                    <h5 class="card-product-title">{{product.name}}</h5>
                    <p class="card-product-stock">In Stock: {{product.amount}}</p>
                    <p class="card-product-price">Rp{{product.price}}</p>
                    <p class="card-product-description">{{product.description}}.</p>
                    <table>
                        <td>
                            <form method="post" action="{% url 'main:inc_product_amount' product.id %}">
                                {% csrf_token %}
                                <button type="submit">Add One</button>
                            </form>
                        </td>
                        <td>
                            <form method="post" action="{% url 'main:dec_product_amount' product.id %}">
                                {% csrf_token %}
                                <button type="submit">Take One</button>
                            </form>
                        </td>
                        <td>
                            <form method="post" action="{% url 'main:remove_product' product.id %}">
                                {% csrf_token %}
                                <button type="submit">Remove Menu</button>
                            </form>
                        </td>
                    </table>
                </div>
            </div>
        {% else %}
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-product-title">{{product.name}}</h5>
                    <p class="card-product-stock">In Stock: {{product.amount}}</p>
                    <p class="card-product-price">Rp{{product.price}}</p>
                    <p class="card-product-description">{{product.description}}.</p>
                    <table>
                        <td>
                            <form method="post" action="{% url 'main:inc_product_amount' product.id %}">
                                {% csrf_token %}
                                <button type="submit">Add One</button>
                            </form>
                        </td>
                        <td>
                            <form method="post" action="{% url 'main:dec_product_amount' product.id %}">
                                {% csrf_token %}
                                <button type="submit">Take One</button>
                            </form>
                        </td>
                        <td>
                            <form method="post" action="{% url 'main:remove_product' product.id %}">
                                {% csrf_token %}
                                <button type="submit">Remove Menu</button>
                            </form>
                        </td>
                    </table>
                </div>
            </div>
        {% endif %}
    {% endfor %}
    </div>
</div>
<br />

<div class="last-login">
    <p>last login: {{ last_login }}</p>
</div>

{% endblock content %}

